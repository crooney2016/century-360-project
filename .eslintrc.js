module.exports = {
  extends: ["next/core-web-vitals", "next/typescript"],
  ignorePatterns: [
    // ALL AUTOGENERATED CODE - NEVER LINT THESE
    "src/generated/**",
    "src/generated/prisma/**",
    "src/generated/prisma/runtime/**",
    "src/generated/prisma/*.js",
    "src/generated/prisma/*.d.ts",
    "src/graphql/generated/**",
    "prisma/generated/**",
    "prisma/runtime/**",

    // WebAssembly and runtime files
    "**/wasm*.js",
    "**/wasm-engine*.js",
    "**/wasm-compiler*.js",
    "**/runtime/**",

    // Development and test files
    "src/app/wizard-demo/**",
    "src/lib/wizard/**",
    "src/ui/Wizard.tsx",
    "scripts/**",
    "tests/**",
    "**/*.stories.*",
    "**/*.test.*",

    // Build artifacts
    ".next/**",
    "out/**",
    "dist/**",

    // Dependencies
    "node_modules/**",
  ],
  rules: {
    // Strict TypeScript rules
    "@typescript-eslint/no-explicit-any": "warn",
    "@typescript-eslint/no-unused-vars": "warn",
    "@typescript-eslint/no-unused-expressions": "warn",
    "@typescript-eslint/no-this-alias": "warn",
    "@typescript-eslint/no-require-imports": "warn",
    "@typescript-eslint/no-empty-object-type": "warn",
    "@typescript-eslint/explicit-function-return-type": "off",
    "@typescript-eslint/explicit-module-boundary-types": "off",

    // Enforce Chakra v3 usage
    "no-restricted-imports": [
      "error",
      {
        paths: [
          {
            name: "@chakra-ui/react",
            importNames: [
              "Thead",
              "Tbody",
              "Tr",
              "Th",
              "Td",
              "TabList",
              "TabPanels",
              "Tab",
              "TabPanel",
              "useToast",
              "useColorModeValue",
              "extendTheme",
            ],
            message: "Chakra v3 migration: use v3 namespaced components/recipes or local wrappers.",
          },
        ],
      },
    ],

    // Disallow v2 spacing prop on VStack/HStack, prefer gap
    "no-restricted-syntax": [
      "error",
      {
        selector:
          "JSXAttribute[name.name='spacing'][parent.name.name='VStack'], JSXAttribute[name.name='spacing'][parent.name.name='HStack']",
        message: "Chakra v3: use 'gap' instead of 'spacing' on Stack components.",
      },
    ],
  },
};
